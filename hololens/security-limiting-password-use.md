---
title: 限制密码使用
description: 限制 holoLens 的密码使用
author: evmill
ms.author: v-evmill
ms.reviewer: tagran
ms.date: 6/30/2020
ms.topic: article
keywords: 安全性，hololens，限制密码使用，密码，hololens 密码，登录，正在登录，windows hello，hello，windows 帐户管理器，FIDO2 登录，FIDO 2，WEBAUTHN，本地帐户，hololens 安全
ms.prod: hololens
ms.sitesec: library
ms.localizationpriority: high
manager: yannisle
appliesto:
- HoloLens (1st gen)
- HoloLens 2
ms.openlocfilehash: d577bc23089650e47159a8a77004a984059b095e
ms.sourcegitcommit: 72ff3174b34d2acaf72547b7d981c66aef8fa82f
ms.translationtype: HT
ms.contentlocale: zh-CN
ms.lasthandoff: 09/10/2020
ms.locfileid: "11009510"
---
# <span data-ttu-id="3e951-104">限制密码使用</span><span class="sxs-lookup"><span data-stu-id="3e951-104">Limiting password use</span></span>

<span data-ttu-id="3e951-105">如今大多数计算机系统利用用户凭证作为安全的基础，使其依赖于可重用的、用户创建的密码。</span><span class="sxs-lookup"><span data-stu-id="3e951-105">Most computer systems today utilize user credentials as the basis for security making them dependent on reusable, user-created passwords.</span></span> <span data-ttu-id="3e951-106">这也导致密码成为账户和数据泄露的最常见原因。</span><span class="sxs-lookup"><span data-stu-id="3e951-106">This has resulted in passwords also becoming the most common cause of account compromise and data breaches.</span></span> <span data-ttu-id="3e951-107">例如，密码可以在传输过程中被截获或从服务器上被窃取（通过钓鱼或密码喷射攻击）并泄露以获得对用户帐户的访问权。</span><span class="sxs-lookup"><span data-stu-id="3e951-107">As an example of this, passwords can be intercepted in transmission or stolen from a server (by phishing or password spray attacks) and compromised to gain access to a user account.</span></span>

<span data-ttu-id="3e951-108">为提高安全性和帐户保护，HoloLens 2 能为设备登录启用强大的、硬件支持的“无密码”凭据（包括 Windows Hello），提供对 Microsoft 云的无缝访问。</span><span class="sxs-lookup"><span data-stu-id="3e951-108">To improve security and account protection, HoloLens 2 has the capability to enable strong, hardware-backed “password-less” credentials (including Windows Hello) for device sign in, offering seamless access to the Microsoft cloud.</span></span> 

## <span data-ttu-id="3e951-109">从其他设备登陆</span><span class="sxs-lookup"><span data-stu-id="3e951-109">Signing in from another device</span></span>

<span data-ttu-id="3e951-110">HoloLens 2 在初始设备设置和用户登录期间为 Azure Active Directory 工作帐户提供远程设备登录选项，以减少键入复杂密码的需要，并将密码作为凭据的需要降至最低。</span><span class="sxs-lookup"><span data-stu-id="3e951-110">HoloLens 2 offers remote device sign-in options for Azure Active Directory work accounts during initial device setup and user sign-in to reduce the need to type complex passwords and minimize the need for passwords as credentials.</span></span> <span data-ttu-id="3e951-111">使用智能卡进行身份验证的用户和组织很难在 HoloLens 2 等设备上使用这些凭证，而且组织通常会开发复杂的系统和昂贵的流程来解决该问题。</span><span class="sxs-lookup"><span data-stu-id="3e951-111">Users and organizations who use smartcards to authenticate have difficulty using those credentials on devices such as HoloLens 2, and often organizations develop complicated systems and costly processes to work around the problem.</span></span> <span data-ttu-id="3e951-112">为解决此问题，Azure AD 在 HoloLens 2 上提供了两个无密码登录选项。</span><span class="sxs-lookup"><span data-stu-id="3e951-112">To solve this problem, Azure AD offers two options for password-less sign-in on HoloLens 2.</span></span> 

<span data-ttu-id="3e951-113">第一种身份验证方法依赖于 Microsoft Authenticator 应用中的新功能，提供基于密钥的身份验证，可将用户凭据绑定到设备。</span><span class="sxs-lookup"><span data-stu-id="3e951-113">The first authentication method relies on new capabilities in the Microsoft Authenticator app to provide key-based authentication that enables a user credential tied to a device.</span></span> <span data-ttu-id="3e951-114">管理员在租户上启用后，在 HoloLens 设备安装期间将显示一条消息，告诉用户点击应用上的某个号码。</span><span class="sxs-lookup"><span data-stu-id="3e951-114">Once enabled on a tenant by the administrator, users will be shown a message during HoloLens device setup telling them to tap a number on their app.</span></span> <span data-ttu-id="3e951-115">然后他们必须匹配验证器应用上的号码，选择“批准”，提供他们的个人识别码或完整的生物身份验证，才能继续安装 HoloLens。</span><span class="sxs-lookup"><span data-stu-id="3e951-115">They must then match the number on their authenticator app, choose Approve, provide their PIN or a biometric and complete authentication for their HoloLens setup to proceed.</span></span> <span data-ttu-id="3e951-116">详细信息请查阅[无密码登录](https://docs.microsoft.com/azure/active-directory/authentication/howto-authentication-passwordless-phone)。</span><span class="sxs-lookup"><span data-stu-id="3e951-116">This is described in greater detail in [passwordless sign-in](https://docs.microsoft.com/azure/active-directory/authentication/howto-authentication-passwordless-phone).</span></span>

<span data-ttu-id="3e951-117">第二种是设备代码流，它对用户来说很直观，不需要额外的基础设施。</span><span class="sxs-lookup"><span data-stu-id="3e951-117">The second is a device code flow that is intuitive to users and does not require any additional infrastructure.</span></span>  <span data-ttu-id="3e951-118">此远程登录行为依赖于另一受信任的设备，该设备支持组织的首选身份验证机制，完成后，令牌被发送回 HoloLens 以完成登录或设备安装。</span><span class="sxs-lookup"><span data-stu-id="3e951-118">This remote sign-in behavior relies on another trusted device that supports the organization’s preferred authentication mechanism and when complete, tokens are issued back to the HoloLens to complete sign-in or device setup.</span></span> <span data-ttu-id="3e951-119">此流程中的步骤包括：</span><span class="sxs-lookup"><span data-stu-id="3e951-119">The steps in this flow are:</span></span>

  1.    <span data-ttu-id="3e951-120">用户在 OOBE 上进行初始设备设置或登录流时，会看到“从其他设备登录”的链接并点击它。</span><span class="sxs-lookup"><span data-stu-id="3e951-120">A user going through the initial device setup or sign-in flows on OOBE is presented with a “Sign in from another device” link and taps on it.</span></span> <span data-ttu-id="3e951-121">这将启动远程登录会话。</span><span class="sxs-lookup"><span data-stu-id="3e951-121">This initiates a remote sign in session.</span></span>
  2.    <span data-ttu-id="3e951-122">然后显示一个带有 URI 的轮询页面（[https://microsoft.com/devicelogin](https://microsoft.com/devicelogin)），它指向 Azure AD 安全令牌服务（STS）的设备身份验证终端。</span><span class="sxs-lookup"><span data-stu-id="3e951-122">The user is then shown a polling page which contains a short URI ([https://microsoft.com/devicelogin](https://microsoft.com/devicelogin)) that points to the device authentication endpoint of the Azure AD Secure Token Service (STS).</span></span> <span data-ttu-id="3e951-123">用户还将看到一个在云中安全生成的一次性代码，最长生存期为15分钟。</span><span class="sxs-lookup"><span data-stu-id="3e951-123">The user is also presented with a one-time code that is securely generated in the cloud and has a maximum lifetime of 15 minutes.</span></span> <span data-ttu-id="3e951-124">生成代码的同时，Azure AD 还在上一步中启动远程登录请求时创建加密会话，并使用 URI和代码批准远程登录请求。</span><span class="sxs-lookup"><span data-stu-id="3e951-124">Along with code generation, Azure AD also creates an encrypted session upon initiation of the remote sign in request in the previous step and together, the URI and code are used to approve the remote sign-in request.</span></span> 
  3.    <span data-ttu-id="3e951-125">然后用户从另一设备导航到 URI，系统会提示输入 HoloLens 2 设备上显示的代码。</span><span class="sxs-lookup"><span data-stu-id="3e951-125">The user then navigates to the URI from another device and is prompted to enter the code displayed on their HoloLens 2 device.</span></span> 
  4.    <span data-ttu-id="3e951-126">用户输入代码后，Azure AD STS 将显示一个页面，指示用户触发远程登录请求的 HoloLens 2 设备，并请求生成代码。</span><span class="sxs-lookup"><span data-stu-id="3e951-126">Once the user enters the code, Azure AD STS displays a page indicating the user’s HoloLens 2 device that triggered the remote sign in request and requested generation of the code.</span></span> <span data-ttu-id="3e951-127">然后系统会提示用户进行确认以防任何网络钓鱼攻击。</span><span class="sxs-lookup"><span data-stu-id="3e951-127">The user is then prompted for confirmation to prevent any phishing attacks.</span></span> 
  5.    <span data-ttu-id="3e951-128">如果用户选择继续登录显示的应用，Azure AD STS 将提示用户输入凭据。</span><span class="sxs-lookup"><span data-stu-id="3e951-128">If the user chooses to continue signing in to the displayed ‘application’, Azure AD STS prompts the user for their credentials.</span></span> <span data-ttu-id="3e951-129">身份验证成功后，Azure AD STS 会将缓存的远程会话更新为“批准”，并给予授权代码。</span><span class="sxs-lookup"><span data-stu-id="3e951-129">On successful authentication, Azure AD STS updates the cached remote session as 'approved' along with an authorization code.</span></span>
  6.    <span data-ttu-id="3e951-130">最后，用户 HoloLens 2 设备上的轮询页面从 Azure AD 接收“授权”响应，并继续验证用户代码及其关联的存储授权代码，并根据请求生成 OAuth 令牌，以完成设备设置。</span><span class="sxs-lookup"><span data-stu-id="3e951-130">Finally, the polling page on the user’s HoloLens 2 device receives an 'Authorized' response from Azure AD and proceeds to validate the user code, its associated stored authorization code and generates OAuth tokens as requested to complete device setup.</span></span> <span data-ttu-id="3e951-131">所创建的身份验证令牌的有效期为1小时，刷新令牌的生存期为90天。</span><span class="sxs-lookup"><span data-stu-id="3e951-131">The authentication token created is valid for 1 hour and the refresh token has a lifetime of 90 days.</span></span> 

<span data-ttu-id="3e951-132">此流中使用的代码生成和加密算法均符合美国联邦信息处理标准。</span><span class="sxs-lookup"><span data-stu-id="3e951-132">The code generation and encryption algorithms used in this flow are both FIPS compliant.</span></span> <span data-ttu-id="3e951-133">HoloLens 2 设备利用 TPM 保护设备密钥，并使用硬件保护密钥对用户身份验证后生成的令牌进行加密。</span><span class="sxs-lookup"><span data-stu-id="3e951-133">HoloLens 2 devices utilize the TPM to secure device keys and encrypt tokens generated after user authentication using hardware-protected keys.</span></span> <span data-ttu-id="3e951-134">了解更多 HoloLens 2 令牌安全信息，请参阅[什么是主刷新令牌（PRT）](https://docs.microsoft.com/azure/active-directory/devices/concept-primary-refresh-token)。</span><span class="sxs-lookup"><span data-stu-id="3e951-134">More information on token security on HoloLens 2 is shared in [What is a Primary Refresh Token (PRT)](https://docs.microsoft.com/azure/active-directory/devices/concept-primary-refresh-token).</span></span>

## <span data-ttu-id="3e951-135">使用 Windows Hello 登录设备</span><span class="sxs-lookup"><span data-stu-id="3e951-135">Device sign-in with Windows Hello</span></span>

<span data-ttu-id="3e951-136">[Windows Hello](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-identity-verification) 提供内置无密码选项，允许用户使用 Iris 或 PIN 登录设备。</span><span class="sxs-lookup"><span data-stu-id="3e951-136">[Windows Hello](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-identity-verification) offers password-free options built directly into the operating system permitting users to sign into the device using Iris or PIN.</span></span> <span data-ttu-id="3e951-137">PIN 作为凭证始终可用，是设备设安装所必需的，而 Iris 是可选的、可跳过的。</span><span class="sxs-lookup"><span data-stu-id="3e951-137">PIN is always available as a credential and is required for device setup, whereas Iris is optional and may be skipped.</span></span> <span data-ttu-id="3e951-138">用户可使用其个人 Microsoft 帐户或 [Azure Active Directory 工作帐户 *，无需*输入密码](https://docs.microsoft.com/azure/active-directory/authentication/concept-authentication-passwordless)即可登录 HoloLens 设备。</span><span class="sxs-lookup"><span data-stu-id="3e951-138">Users can sign-in to HoloLens devices using their personal Microsoft account or [Azure Active Directory work account *without* entering a password](https://docs.microsoft.com/azure/active-directory/authentication/concept-authentication-passwordless).</span></span> <span data-ttu-id="3e951-139">这些选项为用户提供快速、安全丰富的 Windows 体验、应用、数据、网站和服务。</span><span class="sxs-lookup"><span data-stu-id="3e951-139">Options such as these offer users rapid, secured access to their full Windows experience, apps, data, websites, and services.</span></span> <span data-ttu-id="3e951-140">Microsoft 的无密码体验战略详情在此。</span><span class="sxs-lookup"><span data-stu-id="3e951-140">Microsoft’s strategy towards passwordless experiences is detailed here.</span></span>

<span data-ttu-id="3e951-141">创建 Windows Hello 凭证后，它与标识提供者建立受信任的关系，并且创建用于身份验证的非对称密钥对。</span><span class="sxs-lookup"><span data-stu-id="3e951-141">When a Windows Hello credential is created, it establishes a trusted relationship with an identity provider and creates an asymmetric key-pair for authentication.</span></span> <span data-ttu-id="3e951-142">Windows Hello 手势（如 iris 或 PIN）提供熵来解密由设备的受信任的平台模块（TPM）芯片支持的私钥。</span><span class="sxs-lookup"><span data-stu-id="3e951-142">A Windows Hello gesture (such as iris or PIN) provides entropy to decrypt a private key backed by the device’s Trusted Platform Module (TPM) chip.</span></span> <span data-ttu-id="3e951-143">然后，该私钥对对发送到身份验证服务器的请求进行签名，并在验证成功后，向用户授予对其邮件、图片和其他帐户设置的访问权限。</span><span class="sxs-lookup"><span data-stu-id="3e951-143">This private key is then used to sign requests sent to an authenticating server and upon successful authentication, the user is granted access to their mail, pictures, and other account settings.</span></span> 

<span data-ttu-id="3e951-144">了解更多信息，请参阅以下信息图：</span><span class="sxs-lookup"><span data-stu-id="3e951-144">For more information, see the following infographic:</span></span>

  ![Winows Hello 登录](images/security-hello-sign-in.png)
  
<span data-ttu-id="3e951-146">在上图中，注意 nonce 代表 “number once”，是随机或半随机生成的数字。</span><span class="sxs-lookup"><span data-stu-id="3e951-146">In the graphic presented above, note that nonce is stands for “number once”, and is a random or semi-random generated number.</span></span> <span data-ttu-id="3e951-147">设置 Windows Hello 生物或 PIN 凭据后，它永不会离开预配它的设备。</span><span class="sxs-lookup"><span data-stu-id="3e951-147">Once the Windows Hello Biometric or PIN credential is set up, it never leaves the device on which it is provisioned.</span></span> <span data-ttu-id="3e951-148">即使用户的 Windows Hello PIN 通过网络钓鱼等方式被盗，如果没有用户的实际设备[还是盗用无效](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-why-pin-is-better-than-password)。</span><span class="sxs-lookup"><span data-stu-id="3e951-148">Even if the user’s Windows Hello PIN is stolen, such as through a phishing attack, it is [useless without the user’s physical device](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-why-pin-is-better-than-password).</span></span> 

<span data-ttu-id="3e951-149">为提高安全性，Windows Hello 凭据由受信任的平台模块（TPM）保护，以防凭据被篡改和恶意软件，对多次错误输入辅以防攻击保护。</span><span class="sxs-lookup"><span data-stu-id="3e951-149">For added security, Windows Hello credentials are protected by the Trusted Platform Module (TPM) to make the credentials tamper resistant and supplemented with anti-hammering protections against multiple incorrect entries, and malicious software protection to prevent exposure.</span></span> <span data-ttu-id="3e951-150">了解更多关于单一登录 （SSO）的详细信息，请参阅[ SSO 概论](https://docs.microsoft.com/azure/active-directory/manage-apps/what-is-single-sign-on)。</span><span class="sxs-lookup"><span data-stu-id="3e951-150">For more information on Single Sign-On (SSO), read this [overview of SSO methods](https://docs.microsoft.com/azure/active-directory/manage-apps/what-is-single-sign-on).</span></span>

<span data-ttu-id="3e951-151">Iris 身份验证回退到 PIN。</span><span class="sxs-lookup"><span data-stu-id="3e951-151">Iris authentication falls back to the PIN.</span></span> <span data-ttu-id="3e951-152">若要在设备上设置新 PIN （强身份验证），用户最近必须通过[多重身份验证（MFA）](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks)才能完成此进程。</span><span class="sxs-lookup"><span data-stu-id="3e951-152">In order to set up a new PIN (a strong authenticator) on the device, the user must have recently gone through [Multifactor Authentication (MFA)](https://docs.microsoft.com/azure/active-directory/authentication/concept-mfa-howitworks) in order to complete the process.</span></span>

## <span data-ttu-id="3e951-153">使用 Web 帐户管理器进行单一登录</span><span class="sxs-lookup"><span data-stu-id="3e951-153">Single sign-on with Web Account Manager</span></span> 

<span data-ttu-id="3e951-154">单一登录（SSO）允许无密码用户使用用户的个人、工作或学校帐户登录设备。</span><span class="sxs-lookup"><span data-stu-id="3e951-154">Single sign-on (SSO) allows password-less users to sign into the device, utilizing the user’s personal account or their work or school account.</span></span> <span data-ttu-id="3e951-155">用户通过 [Web 帐户管理器 API](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041) 将自动获得所有应用和服务的 SSO 授权。</span><span class="sxs-lookup"><span data-stu-id="3e951-155">The user is automatically authorized with SSO on all integrated apps and services via the [Web Account Manager APIs](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041).</span></span>

<span data-ttu-id="3e951-156">通过一个应用程序添加了身份标识后，在用户同意的情况下，它可通过系统级集成对所有应用程序和服务可用。</span><span class="sxs-lookup"><span data-stu-id="3e951-156">Once an identity has been added through one application, it can, with user consent, become available to all apps and services using system-level integration.</span></span> <span data-ttu-id="3e951-157">这显著降低应用程序的登录负担，并为用户提供无缝的标识体验。</span><span class="sxs-lookup"><span data-stu-id="3e951-157">This reduces the app sign in burden significantly and provides users with a seamless identity experience.</span></span>

<span data-ttu-id="3e951-158">了解更多 Web 帐户管理器 API 的信息，请参阅 [Web 帐户管理器 API 的实施](https://docs.microsoft.com/windows/uwp/security/web-account-manager)。</span><span class="sxs-lookup"><span data-stu-id="3e951-158">For more information on implementing Web Account Manager APIs, go to [Implementing Web Account Manager APIs](https://docs.microsoft.com/windows/uwp/security/web-account-manager).</span></span>

  ![Winows Hello 登录](images/security-api-img.png)
  
<span data-ttu-id="3e951-160">对有特殊身份验证要求的应用程序套件，Web 帐户管理器（WAM）框架可扩展到自定义标识提供程序。</span><span class="sxs-lookup"><span data-stu-id="3e951-160">For app suites with specialized authentication requirements, the Web Account Manager (WAM) framework is extensible to custom identity providers.</span></span> <span data-ttu-id="3e951-161">用户可从 Microsoft Store 下载打包为通用 Windows 平台（UWP）应用的自定义标识提供程序，以便在与该身份提供程序集成的其他应用程序上启用 SSO。</span><span class="sxs-lookup"><span data-stu-id="3e951-161">Users can download the custom identity provider, packaged as a Universal Windows Platform (UWP) app from the Microsoft Store, to enable SSO on other apps integrated with that identity provider.</span></span> 

<span data-ttu-id="3e951-162">了解更多实施自定义 WAM 标识提供程序的信息，请参阅[自定义 WAM 标识提供程序 API 参考内容](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041)。</span><span class="sxs-lookup"><span data-stu-id="3e951-162">For more information on implementing custom WAM Identity providers, see [Custom WAM Identity Provider API reference](https://docs.microsoft.com/uwp/api/Windows.Security.Authentication.Web.Provider?view=winrt-19041).</span></span>

## <span data-ttu-id="3e951-163">使用 WebAuthn 登录 Windows Hello 和 FIDO2</span><span class="sxs-lookup"><span data-stu-id="3e951-163">Windows Hello and FIDO2 sign-in with WebAuthn</span></span>

<span data-ttu-id="3e951-164">HoloLens 2 可用无密码用户凭据（如 Windows Hello 或 FIDO2 安全参数），通过 Microsoft Edge 登录上网，以及登录到支持 WebAuthn 的网站。</span><span class="sxs-lookup"><span data-stu-id="3e951-164">HoloLens 2 can employ password-less user credentials (such as Windows Hello or FIDO2 security keys) to securely sign in on the web via Microsoft Edge and to websites that support WebAuthn.</span></span> <span data-ttu-id="3e951-165">FIDO2 允许用户凭证利用基于标准的设备对在线服务进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="3e951-165">FIDO2 enables user credentials to take advantage of standards-based devices to authenticate to online services.</span></span>

> [!Note] 
> <span data-ttu-id="3e951-166">[WebAuthn](https://www.w3.org/TR/webauthn/) 和 FIDO2 [CTAP2](https://fidoalliance.org/specs/fido-v2.0-ps-20190130/fido-client-to-authenticator-protocol-v2.0-ps-20190130.html) 实施在服务中。</span><span class="sxs-lookup"><span data-stu-id="3e951-166">The [WebAuthn](https://www.w3.org/TR/webauthn/) and FIDO2 [CTAP2](https://fidoalliance.org/specs/fido-v2.0-ps-20190130/fido-client-to-authenticator-protocol-v2.0-ps-20190130.html) specifications are implemented into services.</span></span> <span data-ttu-id="3e951-167">由 WebAuthn 和 FIDO2 指定的已签名元数据提供信息（如用户是否存在），并通过本地手势进行身份验证。</span><span class="sxs-lookup"><span data-stu-id="3e951-167">The signed metadata specified by WebAuthn and FIDO2 provides information – such as whether the user was present - and verifies the authentication through the local gesture.</span></span>

<span data-ttu-id="3e951-168">至于 Windows Hello，当用户创建并注册 FIDO2 凭据时，设备（HoloLens 2 或 FIDO2 安全参数）将在设备上生成私钥和公钥。</span><span class="sxs-lookup"><span data-stu-id="3e951-168">As with Windows Hello, when the user creates and registers a FIDO2 credential, the device (HoloLens 2 or the FIDO2 security key), generates a private and public key on the device.</span></span> <span data-ttu-id="3e951-169">私钥安全地存储在设备上，并仅在使用生物特征或 PIN 等 本地手势解锁后才能使用。</span><span class="sxs-lookup"><span data-stu-id="3e951-169">The private key is stored securely on the device, and it can only be used after it is unlocked using a local gesture such as a biometric or PIN.</span></span> <span data-ttu-id="3e951-170">存储私钥后，公钥将被发送到云中的 Microsoft 帐户系统，并用相关的用户账户进行注册。</span><span class="sxs-lookup"><span data-stu-id="3e951-170">When the private key is stored, the public key is sent to the Microsoft account system in the cloud and registered with the associated user account.</span></span>

<span data-ttu-id="3e951-171">使用 MSA 和 AAD 帐户登录后，系统会向 HoloLens 2 或 FIDO2 设备发送生成的号码或数据变量。</span><span class="sxs-lookup"><span data-stu-id="3e951-171">After signing in with an MSA and AAD account, the system sends a generated number or data variable to the HoloLens 2 or FIDO2 device.</span></span> <span data-ttu-id="3e951-172">HoloLens 2 或设备使用私钥为标识签名。</span><span class="sxs-lookup"><span data-stu-id="3e951-172">The HoloLens 2 or device uses the private key to sign the identification.</span></span> <span data-ttu-id="3e951-173">已签名的标识和元数据被发送回 Microsoft 帐户系统，并使用公钥进行验证。</span><span class="sxs-lookup"><span data-stu-id="3e951-173">The signed identification and metadata are sent back to the Microsoft account system and verified using the public key.</span></span>

<span data-ttu-id="3e951-174">Windows Hello 和 FIDO2 设备根据 HoloLens 设备，尤其是内置受信任的平台模块的安全区域，来实现凭据。</span><span class="sxs-lookup"><span data-stu-id="3e951-174">Windows Hello and FIDO2 devices implement credentials based on the HoloLens device, specifically the built-in Trusted Platform Module secure enclave.</span></span> <span data-ttu-id="3e951-175">TPM 区域存储私钥，并需要生物特征或 PIN 才能解除锁定。</span><span class="sxs-lookup"><span data-stu-id="3e951-175">The TPM enclave stores the private key and requires either a biometric or PIN to unlock it.</span></span> <span data-ttu-id="3e951-176">类似地，FIDO2 安全参数是一个具有内置安全区域的小型外部设备，用于存储私钥，并且需要生物特征或 PIN 来解锁。</span><span class="sxs-lookup"><span data-stu-id="3e951-176">Similarly, a FIDO2 security key is a small external device with a built-in secure enclave that stores the private key and requires a biometric or PIN to unlock it.</span></span>

<span data-ttu-id="3e951-177">这两个选项通过一个步骤提供双因素身份验证，需要注册设备和生物识别或 PIN 才能成功登录。</span><span class="sxs-lookup"><span data-stu-id="3e951-177">Both options offer two-factor authentication in one step, requiring both a registered device and a biometric or PIN to successfully sign in.</span></span> <span data-ttu-id="3e951-178">了解更多信息，请参阅 FIDO2 安全密钥的强身份验证图形，如下所示：</span><span class="sxs-lookup"><span data-stu-id="3e951-178">For more information, refer to the strong authentication with FIDO2 security key graphic which follows:</span></span>

  ![FIDO img](images/security-fido2-whfb.png)

<span data-ttu-id="3e951-180">MSA 和 AAD 是第一批通过实施 WebAuthn 支持无密码身份验证的信赖方。</span><span class="sxs-lookup"><span data-stu-id="3e951-180">MSA and AAD are among the first relying parties to support password-less authentication by implementing WebAuthn.</span></span> 

<span data-ttu-id="3e951-181">了解更多将 WebAuthn 与应用程序和/或 SDK 配合使用的信息，请参阅[使用 WebAuthn 在 Windows 10 上进行无密码身份验证](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/webauthnapis)。</span><span class="sxs-lookup"><span data-stu-id="3e951-181">For more information on using WebAuthn with applications and/or SDKs, go to [WebAuthn APIs for password-less authentication on Windows 10](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/webauthnapis).</span></span>

## <span data-ttu-id="3e951-182">本地帐户</span><span class="sxs-lookup"><span data-stu-id="3e951-182">Local accounts</span></span>

<span data-ttu-id="3e951-183">可为脱机模式部署配置一个本地帐户。</span><span class="sxs-lookup"><span data-stu-id="3e951-183">A single local account can be configured for offline mode deployments.</span></span> <span data-ttu-id="3e951-184">本地帐户在默认情况下为未启用状态，必须在设备预配时进行配置。</span><span class="sxs-lookup"><span data-stu-id="3e951-184">Local accounts are not enabled by default and must be configured during device provisioning.</span></span> <span data-ttu-id="3e951-185">他们必须通过使用密码登录，且不支持备用身份验证方式（比如 [Windows Hello 企业版](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-overview)或 [Windows Hello](https://docs.microsoft.com/windows-hardware/design/device-experiences/windows-hello)）。</span><span class="sxs-lookup"><span data-stu-id="3e951-185">They must sign-in using a password and do not support alternate authentication methods (such as [Windows Hello for Business](https://docs.microsoft.com/windows/security/identity-protection/hello-for-business/hello-overview) or [Windows Hello](https://docs.microsoft.com/windows-hardware/design/device-experiences/windows-hello)).</span></span> 

<span data-ttu-id="3e951-186">了解更多关于 HoloLens 用户帐户，请参阅 [HoloLens 身份标识](https://docs.microsoft.com/hololens/hololens-identity)。</span><span class="sxs-lookup"><span data-stu-id="3e951-186">More details on HoloLens user accounts can be found on [HoloLens Identity](https://docs.microsoft.com/hololens/hololens-identity).</span></span> 

<span data-ttu-id="3e951-187">IT 管理员调整是否允许用户通过使用[允许 Microsoft 帐户连接](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-accounts#accounts-allowmicrosoftaccountconnection)使用 MSA 帐户进行与电子邮件无关的连接身份验证和服务。</span><span class="sxs-lookup"><span data-stu-id="3e951-187">IT administrators adjust whether the user is allowed to use an MSA account for non-email related connection authentication and services through [AllowMicrosoftAccountConnection](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-accounts#accounts-allowmicrosoftaccountconnection).</span></span> <span data-ttu-id="3e951-188">了解密码设置策略、空闲策略、以及屏锁策略，请参阅[设备锁定](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-devicelock)。</span><span class="sxs-lookup"><span data-stu-id="3e951-188">For password configuration policies, idling policies, and lockscreen policies, see [Device Lock](https://docs.microsoft.com/windows/client-management/mdm/policy-csp-devicelock).</span></span> 
